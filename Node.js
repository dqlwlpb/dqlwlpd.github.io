const express = require('express'); const { createProxyMiddleware } = require('http-proxy-middleware'); const cors = require('cors'); const app = express(); const PORT = 3000; // Enable CORS to allow frontend to make requests app.use(cors()); // Proxy requests to external websites app.use('/proxy', createProxyMiddleware({ target: '', // The target is dynamically set changeOrigin: true, router: (req) => req.query.url, // Dynamically set the target URL based on query parameter onProxyReq: (proxyReq, req, res) => { if (!req.query.url) { res.status(400).send('Missing URL parameter'); } } })); app.listen(PORT, () => { console.log(`Proxy server running at http://localhost:${PORT}`); });
